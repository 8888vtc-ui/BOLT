DIAGNOSTIC SERVEUR OLLAMA - Probl√®me Identifi√©

üî¥ PROBL√àME: M√©moire Insuffisante (OOM)

Erreur dans les logs:
"llama runner process has terminated: signal: killed"

Le processus Ollama est tu√© par le syst√®me ‚Üí OOM Killer (Out of Memory).

üìä ANALYSE

M√©moire requise:
- Poids mod√®le: 703.4 MiB
- Cache KV: 768.0 MiB
- Total: 1.4 GiB (~1433 MB)

M√©moire disponible Railway:
- RAM totale: 953.7 MiB (~954 MB)
- RAM libre: 909.7 MiB (~910 MB)

‚ùå Le mod√®le n√©cessite 1.4 GB mais Railway n'a que ~950 MB

‚úÖ SOLUTIONS

Solution 1: Augmenter Ressources Railway (RECOMMAND√â)
- Railway Dashboard ‚Üí Service Ollama ‚Üí Settings ‚Üí Resources
- Passer √† plan payant avec 2GB+ RAM
- Co√ªt: ~$5-10/mois

Solution 2: Mod√®le Plus L√©ger
- Changer OLLAMA_MODEL=phi:2.7b (plus petit)
- Moins de capacit√©s mais fonctionne

Solution 3: R√©duire Cache KV
- OLLAMA_NUM_CTX=2048 (r√©duire contexte)
- Moins performant

Solution 4: DeepSeek API (MEILLEURE SOLUTION)
- Obtenir cl√© sur https://platform.deepseek.com
- Ajouter VITE_DEEPSEEK_API_KEY dans .env
- Fonctionne imm√©diatement, co√ªt tr√®s faible
- Le code utilise automatiquement DeepSeek si Ollama √©choue

üéØ RECOMMANDATION

Solution imm√©diate: DeepSeek API
- Configuration rapide (5 min)
- Fonctionne imm√©diatement
- Co√ªt: ~$0.14 pour 1M tokens
- Pas de probl√®me m√©moire

Solution long terme: Augmenter Railway
- Si vous voulez garder Ollama local
- N√©cessite plan payant

üìã ACTIONS IMM√âDIATES

Option A: DeepSeek API (Recommand√©)
1. https://platform.deepseek.com
2. Cr√©er compte (gratuit)
3. G√©n√©rer cl√© API
4. Ajouter dans .env: VITE_DEEPSEEK_API_KEY=sk-votre_cle
5. Red√©marrer serveur dev
6. Tester coach

Option B: Augmenter Railway
1. Railway Dashboard ‚Üí Service Ollama ‚Üí Settings ‚Üí Resources
2. Passer √† plan 2GB+ RAM
3. Red√©marrer service
4. Tester API

‚úÖ V√âRIFICATION

Apr√®s correction:
- /api/generate retourne Status 200
- /api/chat retourne Status 200
- Coach r√©pond aux questions
- Pas d'erreur "signal: killed" dans logs


